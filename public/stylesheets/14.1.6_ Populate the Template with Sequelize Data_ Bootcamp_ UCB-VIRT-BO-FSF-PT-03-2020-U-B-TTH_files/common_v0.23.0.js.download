/****************************
*  Learnosity Shared Library version v0.23.0
*
*  https://learnosity.com
*
*  Copyright 2017 - 2020 Learnosity
*/

!function(){"use strict";var t="Expected a function";function e(t){return t}var n=Math.max;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},a="object"==("undefined"==typeof global?"undefined":r(global))&&global&&global.Object===Object&&global,o="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,c=a||o||Function("return this")(),u=c.Symbol,s=Object.prototype,l=s.hasOwnProperty,f=s.toString,v=u?u.toStringTag:void 0;var d=Object.prototype.toString;var p="[object Null]",h="[object Undefined]",m=u?u.toStringTag:void 0;function _(t){return null==t?void 0===t?h:p:m&&m in Object(t)?function(t){var e=l.call(t,v),n=t[v];try{t[v]=void 0;var r=!0}catch(t){}var i=f.call(t);return r&&(e?t[v]=n:delete t[v]),i}(t):(e=t,d.call(e));var e}function y(t){var e=void 0===t?"undefined":r(t);return null!=t&&("object"==e||"function"==e)}var g="[object AsyncFunction]",b="[object Function]",j="[object GeneratorFunction]",w="[object Proxy]";function A(t){if(!y(t))return!1;var e=_(t);return e==b||e==j||e==g||e==w}var O=c["__core-js_shared__"],E=function(){var t=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var S=Function.prototype.toString;function T(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var k=/^\[object .+?Constructor\]$/,x=Function.prototype,I=Object.prototype,D=x.toString,P=I.hasOwnProperty,N=RegExp("^"+D.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function L(t){if(!y(t)||(e=t,E&&E in e))return!1;var e;return(A(t)?N:k).test(T(t))}function M(t,e){var n,r,i=(n=t,r=e,null==n?void 0:n[r]);return L(i)?i:void 0}var V=function(){try{var t=M(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),R=V?function(t,e){return V(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:e,z=800,U=16,q=Date.now;var C=function(t){var e=0,n=0;return function(){var r=q(),i=U-(r-n);if(n=r,i>0){if(++e>=z)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(R);var F=function(t,r){return C((i=t,o=e,a=n(void 0===(a=r)?i.length-1:a,0),function(){for(var t=arguments,e=-1,r=n(t.length-a,0),c=Array(r);++e<r;)c[e]=t[a+e];e=-1;for(var u=Array(a+1);++e<a;)u[e]=t[e];return u[a]=o(c),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(i,this,u)}),t+"");var i,a,o}(function(e,n){return function(e,n,r){if("function"!=typeof e)throw new TypeError(t);return setTimeout(function(){e.apply(void 0,r)},n)}(e,1,n)});function B(t){return void 0===t}function $(t,e){return t===e||t!=t&&e!=e}function Q(t,e){for(var n=t.length;n--;)if($(t[n][0],e))return n;return-1}var H=Array.prototype.splice;function W(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}W.prototype.clear=function(){this.__data__=[],this.size=0},W.prototype.delete=function(t){var e=this.__data__,n=Q(e,t);return!(n<0||(n==e.length-1?e.pop():H.call(e,n,1),--this.size,0))},W.prototype.get=function(t){var e=this.__data__,n=Q(e,t);return n<0?void 0:e[n][1]},W.prototype.has=function(t){return Q(this.__data__,t)>-1},W.prototype.set=function(t,e){var n=this.__data__,r=Q(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Y=M(c,"Map"),K=M(Object,"create");var G="__lodash_hash_undefined__",J=Object.prototype.hasOwnProperty;var X=Object.prototype.hasOwnProperty;var Z="__lodash_hash_undefined__";function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tt.prototype.clear=function(){this.__data__=K?K(null):{},this.size=0},tt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},tt.prototype.get=function(t){var e=this.__data__;if(K){var n=e[t];return n===G?void 0:n}return J.call(e,t)?e[t]:void 0},tt.prototype.has=function(t){var e=this.__data__;return K?void 0!==e[t]:X.call(e,t)},tt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=K&&void 0===e?Z:e,this};function et(t,e){var n=t.__data__;return function(t){var e=void 0===t?"undefined":r(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nt.prototype.clear=function(){this.size=0,this.__data__={hash:new tt,map:new(Y||W),string:new tt}},nt.prototype.delete=function(t){var e=et(this,t).delete(t);return this.size-=e?1:0,e},nt.prototype.get=function(t){return et(this,t).get(t)},nt.prototype.has=function(t){return et(this,t).has(t)},nt.prototype.set=function(t,e){var n=et(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var rt=200;function it(t){var e=this.__data__=new W(t);this.size=e.size}it.prototype.clear=function(){this.__data__=new W,this.size=0},it.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},it.prototype.get=function(t){return this.__data__.get(t)},it.prototype.has=function(t){return this.__data__.has(t)},it.prototype.set=function(t,e){var n=this.__data__;if(n instanceof W){var r=n.__data__;if(!Y||r.length<rt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nt(r)}return n.set(t,e),this.size=n.size,this};function at(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ot(t,e,n){"__proto__"==e&&V?V(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ct=Object.prototype.hasOwnProperty;function ut(t,e,n){var r=t[e];ct.call(t,e)&&$(r,n)&&(void 0!==n||e in t)||ot(t,e,n)}function st(t,e,n,r){var i=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var c=e[a],u=r?r(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),i?ot(n,c,u):ut(n,c,u)}return n}function lt(t){return null!=t&&"object"==(void 0===t?"undefined":r(t))}var ft="[object Arguments]";function vt(t){return lt(t)&&_(t)==ft}var dt=Object.prototype,pt=dt.hasOwnProperty,ht=dt.propertyIsEnumerable,mt=vt(function(){return arguments}())?vt:function(t){return lt(t)&&pt.call(t,"callee")&&!ht.call(t,"callee")},_t=Array.isArray;var yt="object"==("undefined"==typeof exports?"undefined":r(exports))&&exports&&!exports.nodeType&&exports,gt=yt&&"object"==("undefined"==typeof module?"undefined":r(module))&&module&&!module.nodeType&&module,bt=gt&&gt.exports===yt?c.Buffer:void 0,jt=(bt?bt.isBuffer:void 0)||function(){return!1},wt=9007199254740991,At=/^(?:0|[1-9]\d*)$/;function Ot(t,e){return!!(e=null==e?wt:e)&&("number"==typeof t||At.test(t))&&t>-1&&t%1==0&&t<e}var Et=9007199254740991;function St(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Et}var Tt={};Tt["[object Float32Array]"]=Tt["[object Float64Array]"]=Tt["[object Int8Array]"]=Tt["[object Int16Array]"]=Tt["[object Int32Array]"]=Tt["[object Uint8Array]"]=Tt["[object Uint8ClampedArray]"]=Tt["[object Uint16Array]"]=Tt["[object Uint32Array]"]=!0,Tt["[object Arguments]"]=Tt["[object Array]"]=Tt["[object ArrayBuffer]"]=Tt["[object Boolean]"]=Tt["[object DataView]"]=Tt["[object Date]"]=Tt["[object Error]"]=Tt["[object Function]"]=Tt["[object Map]"]=Tt["[object Number]"]=Tt["[object Object]"]=Tt["[object RegExp]"]=Tt["[object Set]"]=Tt["[object String]"]=Tt["[object WeakMap]"]=!1;var kt,xt="object"==("undefined"==typeof exports?"undefined":r(exports))&&exports&&!exports.nodeType&&exports,It=xt&&"object"==("undefined"==typeof module?"undefined":r(module))&&module&&!module.nodeType&&module,Dt=It&&It.exports===xt&&a.process,Pt=function(){try{return Dt&&Dt.binding&&Dt.binding("util")}catch(t){}}(),Nt=Pt&&Pt.isTypedArray,Lt=Nt?(kt=Nt,function(t){return kt(t)}):function(t){return lt(t)&&St(t.length)&&!!Tt[_(t)]},Mt=Object.prototype.hasOwnProperty;function Vt(t,e){var n=_t(t),r=!n&&mt(t),i=!n&&!r&&jt(t),a=!n&&!r&&!i&&Lt(t),o=n||r||i||a,c=o?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=c.length;for(var s in t)!e&&!Mt.call(t,s)||o&&("length"==s||i&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ot(s,u))||c.push(s);return c}var Rt=Object.prototype;function zt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rt)}function Ut(t,e){return function(n){return t(e(n))}}var qt=Ut(Object.keys,Object),Ct=Object.prototype.hasOwnProperty;function Ft(t){if(!zt(t))return qt(t);var e=[];for(var n in Object(t))Ct.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Bt(t){return null!=t&&St(t.length)&&!A(t)}function $t(t){return Bt(t)?Vt(t):Ft(t)}var Qt=Object.prototype.hasOwnProperty;function Ht(t){if(!y(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=zt(t),n=[];for(var r in t)("constructor"!=r||!e&&Qt.call(t,r))&&n.push(r);return n}function Wt(t){return Bt(t)?Vt(t,!0):Ht(t)}var Yt="object"==("undefined"==typeof exports?"undefined":r(exports))&&exports&&!exports.nodeType&&exports,Kt=Yt&&"object"==("undefined"==typeof module?"undefined":r(module))&&module&&!module.nodeType&&module,Gt=Kt&&Kt.exports===Yt?c.Buffer:void 0,Jt=Gt?Gt.allocUnsafe:void 0;function Xt(){return[]}var Zt=Object.prototype.propertyIsEnumerable,te=Object.getOwnPropertySymbols,ee=te?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}(te(t),function(e){return Zt.call(t,e)}))}:Xt;function ne(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var re=Ut(Object.getPrototypeOf,Object),ie=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)ne(e,ee(t)),t=re(t);return e}:Xt;function ae(t,e,n){var r=e(t);return _t(t)?r:ne(r,n(t))}function oe(t){return ae(t,$t,ee)}function ce(t){return ae(t,Wt,ie)}var ue=M(c,"DataView"),se=M(c,"Promise"),le=M(c,"Set"),fe=M(c,"WeakMap"),ve="[object Promise]",de="[object WeakMap]",pe="[object DataView]",he=T(ue),me=T(Y),_e=T(se),ye=T(le),ge=T(fe),be=_;(ue&&be(new ue(new ArrayBuffer(1)))!=pe||Y&&"[object Map]"!=be(new Y)||se&&be(se.resolve())!=ve||le&&"[object Set]"!=be(new le)||fe&&be(new fe)!=de)&&(be=function(t){var e=_(t),n="[object Object]"==e?t.constructor:void 0,r=n?T(n):"";if(r)switch(r){case he:return pe;case me:return"[object Map]";case _e:return ve;case ye:return"[object Set]";case ge:return de}return e});var je=be,we=Object.prototype.hasOwnProperty;var Ae=c.Uint8Array;function Oe(t){var e=new t.constructor(t.byteLength);return new Ae(e).set(new Ae(t)),e}function Ee(t,e){return t.set(e[0],e[1]),t}function Se(t,e,n,r){var i=-1,a=null==t?0:t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function Te(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}var ke=1;var xe=/\w*$/;function Ie(t,e){return t.add(e),t}function De(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Pe=1;var Ne=u?u.prototype:void 0,Le=Ne?Ne.valueOf:void 0;var Me="[object Boolean]",Ve="[object Date]",Re="[object Map]",ze="[object Number]",Ue="[object RegExp]",qe="[object Set]",Ce="[object String]",Fe="[object Symbol]",Be="[object ArrayBuffer]",$e="[object DataView]",Qe="[object Float32Array]",He="[object Float64Array]",We="[object Int8Array]",Ye="[object Int16Array]",Ke="[object Int32Array]",Ge="[object Uint8Array]",Je="[object Uint8ClampedArray]",Xe="[object Uint16Array]",Ze="[object Uint32Array]";function tn(t,e,n,r){var i=t.constructor;switch(e){case Be:return Oe(t);case Me:case Ve:return new i(+t);case $e:return function(t,e){var n=e?Oe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case Qe:case He:case We:case Ye:case Ke:case Ge:case Je:case Xe:case Ze:return function(t,e){var n=e?Oe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case Re:return c=t,Se(r?n(Te(c),ke):Te(c),Ee,new c.constructor);case ze:case Ce:return new i(t);case Ue:return function(t){var e=new t.constructor(t.source,xe.exec(t));return e.lastIndex=t.lastIndex,e}(t);case qe:return o=t,Se(r?n(De(o),Pe):De(o),Ie,new o.constructor);case Fe:return a=t,Le?Object(Le.call(a)):{}}var a,o,c}var en=Object.create,nn=function(){function t(){}return function(e){if(!y(e))return{};if(en)return en(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var rn=1,an=2,on=4,cn="[object Arguments]",un="[object Function]",sn="[object GeneratorFunction]",ln="[object Object]",fn={};fn[cn]=fn["[object Array]"]=fn["[object ArrayBuffer]"]=fn["[object DataView]"]=fn["[object Boolean]"]=fn["[object Date]"]=fn["[object Float32Array]"]=fn["[object Float64Array]"]=fn["[object Int8Array]"]=fn["[object Int16Array]"]=fn["[object Int32Array]"]=fn["[object Map]"]=fn["[object Number]"]=fn[ln]=fn["[object RegExp]"]=fn["[object Set]"]=fn["[object String]"]=fn["[object Symbol]"]=fn["[object Uint8Array]"]=fn["[object Uint8ClampedArray]"]=fn["[object Uint16Array]"]=fn["[object Uint32Array]"]=!0,fn["[object Error]"]=fn[un]=fn["[object WeakMap]"]=!1;function vn(t,e,n,r,i,a){var o,c=e&rn,u=e&an,s=e&on;if(n&&(o=i?n(t,r,i,a):n(t)),void 0!==o)return o;if(!y(t))return t;var l=_t(t);if(l){if(o=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&we.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,o)}else{var f=je(t),v=f==un||f==sn;if(jt(t))return function(t,e){if(e)return t.slice();var n=t.length,r=Jt?Jt(n):new t.constructor(n);return t.copy(r),r}(t,c);if(f==ln||f==cn||v&&!i){if(o=u||v?{}:(w=t,"function"!=typeof w.constructor||zt(w)?{}:nn(re(w))),!c)return u?(_=t,j=t,g=(b=o)&&st(j,Wt(j),b),st(_,ie(_),g)):(d=t,m=t,p=(h=o)&&st(m,$t(m),h),st(d,ee(d),p))}else{if(!fn[f])return i?t:{};o=tn(t,f,vn,c)}}var d,p,h,m,_,g,b,j,w;a||(a=new it);var A=a.get(t);if(A)return A;a.set(t,o);var O=s?u?ce:oe:u?keysIn:$t,E=l?void 0:O(t);return at(E||t,function(r,i){E&&(r=t[i=r]),ut(o,i,vn(r,e,n,i,t,a))}),o}var dn=1,pn=4;function hn(t){return vn(t,dn|pn)}var mn="[object Map]",_n="[object Set]",yn=Object.prototype.hasOwnProperty;function gn(t){if(null==t)return!0;if(Bt(t)&&(_t(t)||"string"==typeof t||"function"==typeof t.splice||jt(t)||Lt(t)||mt(t)))return!t.length;var e=je(t);if(e==mn||e==_n)return!t.size;if(zt(t))return!Ft(t).length;for(var n in t)if(yn.call(t,n))return!1;return!0}var bn="[object String]";function jn(t){return"string"==typeof t||!_t(t)&&lt(t)&&_(t)==bn}var wn="Questions API",An="Assess API",On="Items API",En="Question Editor API",Sn="Reports API",Tn="Author API",kn="Events API",xn="Annotations API",In={assessment:{multiplier:1,samplePercentage:1},authoring:{multiplier:1,samplePercentage:10}},Dn=function(t,e){In[t].shouldTrack?(e.eventData=e.eventData||{},e.dimensions=e.dimensions||{},e.metrics=e.metrics||{},e.eventData.value=In[t].multiplier,e.dimensions.IS_SAMPLED="true",e.metrics.ESTIMATED_SAMPLED_HITS=In[t].multiplier):$t(e).forEach(function(t){delete e[t]})},Pn={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.sampleType,n=t.push;if(!B(In[e])&&A(n)){if(!B(In[e].shouldTrack))return In[e];var r=!0===window.lrnDisableAnalyticsSampling&&window.location.hostname.indexOf(".learnosity.com")>-1,a=B(In[e])?100:In[e].samplePercentage;r&&(a=100);var o=a/100;return In[e].shouldTrack=Math.random()<o,In[e].multiplier=Math.round(100/a),n({event:"set_sampling",sampling:i({},e,In[e])}),In[e]}},formatAssessmentEvent:function(t){Dn("assessment",t)},formatAuthoringEvent:function(t){Dn("authoring",t)},addSamplingText:function(t){return t+" (sampled)"}},Nn={},Ln=void 0,Mn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ln=t.push,Nn=Pn.init({sampleType:"assessment",push:Ln})},Vn=function(t){var e=hn(t);return"track_timing"===e.event?(Nn.shouldTrack&&(e.timing.category=Pn.addSamplingText(""+e.timing.category)),Pn.formatAssessmentEvent(e),e):e};var Rn,zn=(Rn=void 0,function(t,e,n){for(var r=-1,i=Object(t),a=n(t),o=a.length;o--;){var c=a[Rn?o:++r];if(!1===e(i[c],c,i))break}return t});var Un,qn,Cn=(Un=function(t,e){return t&&zn(t,e,$t)},qn=void 0,function(t,e){if(null==t)return t;if(!Bt(t))return Un(t,e);for(var n=t.length,r=qn?n:-1,i=Object(t);(qn?r--:++r<n)&&!1!==e(i[r],r,i););return t});function Fn(t,n){return(_t(t)?at:Cn)(t,"function"==typeof(r=n)?r:e);var r}function Bn(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var $n="__lodash_hash_undefined__";function Qn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new nt;++e<n;)this.add(t[e])}Qn.prototype.add=Qn.prototype.push=function(t){return this.__data__.set(t,$n),this},Qn.prototype.has=function(t){return this.__data__.has(t)};function Hn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Wn=1,Yn=2;function Kn(t,e,n,r,i,a){var o=n&Wn,c=t.length,u=e.length;if(c!=u&&!(o&&u>c))return!1;var s=a.get(t);if(s&&a.get(e))return s==e;var l=-1,f=!0,v=n&Yn?new Qn:void 0;for(a.set(t,e),a.set(e,t);++l<c;){var d=t[l],p=e[l];if(r)var h=o?r(p,d,l,e,t,a):r(d,p,l,t,e,a);if(void 0!==h){if(h)continue;f=!1;break}if(v){if(!Hn(e,function(t,e){if(o=e,!v.has(o)&&(d===t||i(d,t,n,r,a)))return v.push(e);var o})){f=!1;break}}else if(d!==p&&!i(d,p,n,r,a)){f=!1;break}}return a.delete(t),a.delete(e),f}var Gn=1,Jn=2,Xn="[object Boolean]",Zn="[object Date]",tr="[object Error]",er="[object Map]",nr="[object Number]",rr="[object RegExp]",ir="[object Set]",ar="[object String]",or="[object Symbol]",cr="[object ArrayBuffer]",ur="[object DataView]",sr=u?u.prototype:void 0,lr=sr?sr.valueOf:void 0;var fr=1,vr=Object.prototype.hasOwnProperty;var dr=1,pr="[object Arguments]",hr="[object Array]",mr="[object Object]",_r=Object.prototype.hasOwnProperty;function yr(t,e,n,r,i,a){var o=_t(t),c=_t(e),u=o?hr:je(t),s=c?hr:je(e),l=(u=u==pr?mr:u)==mr,f=(s=s==pr?mr:s)==mr,v=u==s;if(v&&jt(t)){if(!jt(e))return!1;o=!0,l=!1}if(v&&!l)return a||(a=new it),o||Lt(t)?Kn(t,e,n,r,i,a):function(t,e,n,r,i,a,o){switch(n){case ur:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cr:return!(t.byteLength!=e.byteLength||!a(new Ae(t),new Ae(e)));case Xn:case Zn:case nr:return $(+t,+e);case tr:return t.name==e.name&&t.message==e.message;case rr:case ar:return t==e+"";case er:var c=Te;case ir:var u=r&Gn;if(c||(c=De),t.size!=e.size&&!u)return!1;var s=o.get(t);if(s)return s==e;r|=Jn,o.set(t,e);var l=Kn(c(t),c(e),r,i,a,o);return o.delete(t),l;case or:if(lr)return lr.call(t)==lr.call(e)}return!1}(t,e,u,n,r,i,a);if(!(n&dr)){var d=l&&_r.call(t,"__wrapped__"),p=f&&_r.call(e,"__wrapped__");if(d||p){var h=d?t.value():t,m=p?e.value():e;return a||(a=new it),i(h,m,n,r,a)}}return!!v&&(a||(a=new it),function(t,e,n,r,i,a){var o=n&fr,c=oe(t),u=c.length;if(u!=oe(e).length&&!o)return!1;for(var s=u;s--;){var l=c[s];if(!(o?l in e:vr.call(e,l)))return!1}var f=a.get(t);if(f&&a.get(e))return f==e;var v=!0;a.set(t,e),a.set(e,t);for(var d=o;++s<u;){var p=t[l=c[s]],h=e[l];if(r)var m=o?r(h,p,l,e,t,a):r(p,h,l,t,e,a);if(!(void 0===m?p===h||i(p,h,n,r,a):m)){v=!1;break}d||(d="constructor"==l)}if(v&&!d){var _=t.constructor,y=e.constructor;_!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y)&&(v=!1)}return a.delete(t),a.delete(e),v}(t,e,n,r,i,a))}function gr(t,e,n,r,i){return t===e||(null==t||null==e||!lt(t)&&!lt(e)?t!=t&&e!=e:yr(t,e,n,r,gr,i))}var br=1,jr=2;function wr(t){return t==t&&!y(t)}function Ar(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function Or(t){var e=function(t){for(var e=$t(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,wr(i)]}return e}(t);return 1==e.length&&e[0][2]?Ar(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var i=n.length,a=i,o=!r;if(null==t)return!a;for(t=Object(t);i--;){var c=n[i];if(o&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<a;){var u=(c=n[i])[0],s=t[u],l=c[1];if(o&&c[2]){if(void 0===s&&!(u in t))return!1}else{var f=new it;if(r)var v=r(s,l,u,t,e,f);if(!(void 0===v?gr(l,s,br|jr,r,f):v))return!1}}return!0}(n,t,e)}}var Er="[object Symbol]";function Sr(t){return"symbol"==(void 0===t?"undefined":r(t))||lt(t)&&_(t)==Er}var Tr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kr=/^\w*$/;function xr(t,e){if(_t(t))return!1;var n=void 0===t?"undefined":r(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Sr(t))||(kr.test(t)||!Tr.test(t)||null!=e&&t in Object(e))}var Ir="Expected a function";function Dr(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Ir);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Dr.Cache||nt),n}Dr.Cache=nt;var Pr=500;var Nr=/^\./,Lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mr=/\\(\\)?/g,Vr=function(t){var e=Dr(t,function(t){return n.size===Pr&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return Nr.test(t)&&e.push(""),t.replace(Lr,function(t,n,r,i){e.push(r?i.replace(Mr,"$1"):n||t)}),e}),Rr=1/0,zr=u?u.prototype:void 0,Ur=zr?zr.toString:void 0;function qr(t){if("string"==typeof t)return t;if(_t(t))return Bn(t,qr)+"";if(Sr(t))return Ur?Ur.call(t):"";var e=t+"";return"0"==e&&1/t==-Rr?"-0":e}function Cr(t,e){return _t(t)?t:xr(t,e)?[t]:Vr(null==(n=t)?"":qr(n));var n}var Fr=1/0;function Br(t){if("string"==typeof t||Sr(t))return t;var e=t+"";return"0"==e&&1/t==-Fr?"-0":e}function $r(t,e){for(var n=0,r=(e=Cr(e,t)).length;null!=t&&n<r;)t=t[Br(e[n++])];return n&&n==r?t:void 0}function Qr(t,e){return null!=t&&e in Object(t)}function Hr(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=Cr(e,t)).length,a=!1;++r<i;){var o=Br(e[r]);if(!(a=null!=t&&n(t,o)))break;t=t[o]}return a||++r!=i?a:!!(i=null==t?0:t.length)&&St(i)&&Ot(o,i)&&(_t(t)||mt(t))}(t,e,Qr)}var Wr=1,Yr=2;function Kr(t,e){return xr(t)&&wr(e)?Ar(Br(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:$r(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?Hr(n,t):gr(e,r,Wr|Yr)}}function Gr(t){return xr(t)?(n=Br(t),function(t){return null==t?void 0:t[n]}):(e=t,function(t){return $r(t,e)});var e,n}function Jr(t,e){var n=-1,r=Bt(t)?Array(t.length):[];return Cn(t,function(t,i,a){r[++n]=e(t,i,a)}),r}function Xr(t,n){return(_t(t)?Bn:Jr)(t,"function"==typeof(i=n)?i:null==i?e:"object"==(void 0===i?"undefined":r(i))?_t(i)?Kr(i[0],i[1]):Or(i):Gr(i));var i}var Zr=[],ti=!1,ei=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).detail,e=void 0===t?{}:t,n=e.app;Zr.forEach(function(t){n===t.appName&&A(t.callback)&&t.callback(e)})},ni=function(t,e){ti||(document.addEventListener&&document.addEventListener("learnosity",ei),ti=!0),Zr.push({appName:t,callback:e})},ri={getNested:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var r=n.match(/(.+?)\.(.*)/);return r?t(e[r[1]],r[2]):e[n]}}},ii=void 0,ai=void 0;var oi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ii=t.push,ai=t.app,Pn.init({sampleType:"assessment",push:ii}).shouldTrack&&ai.once("ready",function(){!function(){var t=!1;if(Fn(Xr(ai.activityRenderer.featureViews).concat(ai.simpleFeaturesRenderer.features),function(e){if(!t&&"linereader"===e.model.get("type"))return t=!0,!1}),t){var e={application:wn,event:"track_event",eventData:{category:"Line reader usage",action:Pn.addSamplingText("Line reader enabled"),label:"true",noninteraction:!0}};Pn.formatAssessmentEvent(e),ii(e,!0)}}(),function(){var t=function(){var t=[],e=Xr(ai.activityRenderer.featureViews).concat(ai.simpleFeaturesRenderer.features);return Xr(e,function(e){"linereader"===e.model.get("type")&&t.push(e)}),t}();gn(t)||Xr(t,function(t){var e=t.featureFacade,n=void 0;e&&e.on("visibility:changed",function(t){if(function(){var t={application:wn,event:"track_event",eventData:{category:"Line reader usage",action:Pn.addSamplingText("Interaction event"),label:"Event",noninteraction:!0}};Pn.formatAssessmentEvent(t),ii(t,!0)}(),t)n=Date.now();else{if(n){var e=Date.now();!function(t){var e={application:wn,event:"track_timing",timing:{category:"Line reader usage",action:Pn.addSamplingText("Usage duration"),value:t.duration,noninteraction:!0}};Pn.formatAssessmentEvent(e),ii(e,!0)}({duration:e-n})}n=null}})})}(),function(){var t=!1;if(Fn(Xr(ai.activityRenderer.questionViews),function(e){if(!t&&"drawing"===e.model.get("type"))return t=!0,!1}),t){var e={application:wn,event:"track_event",eventData:{category:"Questions usage",action:"Drawing - Compass tool",label:Pn.addSamplingText("Enabled"),noninteraction:!0}};Pn.formatAssessmentEvent(e),ii(e,!0)}}(),Fn(document.querySelectorAll(".lrn_canvas_drawing"),function(t){t.addEventListener("click",function(t){t.target.classList.contains("lrn-icon-compass")&&function(){var t={application:wn,event:"track_event",eventData:{category:"Questions usage",action:"Drawing - Compass tool",label:Pn.addSamplingText("Toolbar button click"),noninteraction:!0}};Pn.formatAssessmentEvent(t),ii(t,!0)}()})})}),ni(wn,function(t){var e=t.name,n=t.error;"error"===e&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(t.code){case 10019:var e=t.code,n=t.msg,r=t.detail,i=/Operation taking more than/.test(r),a=ri.getNested(window,"LearnosityApp._internal.rollbarInstance");i&&a&&a.error(e+": "+n,t)}}(n)})};function ci(t){return null===t}var ui=function(t,e){var n=t.containerClass,r=t.breakpoints,i=(new Date).getTime(),a=[],o=void 0,c=function(t){var n,i=(n=t,{width:n?n.offsetWidth:-1,height:n?n.offsetHeight:-1}),c=i.width,u=i.height,s=function(t){for(var e="",n=0;n<r.length;n++){var i=r[n],a=r[n+1],o=i.min,c=a?a.min:1e7;if(t>=o&&t<c){e=i.name;break}}return e}(c);c>0&&u>0&&e({width:c,height:u,breakpointName:s}),a.forEach(clearTimeout),clearInterval(o)};o=setInterval(function(){for(var t,e=(t=n,"getElementsByClassName"in document?document.getElementsByClassName(t):document.querySelectorAll("."+t)),r=(new Date).getTime()-i,u=void 0,s=0;s<e.length;s++)l=s,u=setTimeout(function(){c(e[l])},3e3*(l+1)),a.push(u);var l;r>12e4&&clearInterval(o)},8e3)},si="[object Boolean]";function li(t){return!0===t||!1===t||lt(t)&&_(t)==si}var fi=function(t){return!(!li(t)&&(!y(t)&&!_t(t)||gn(t)))||void 0},vi=function(t,e){var n=void 0;return jn(e)&&t.some(function(t){var r=y(t)&&li(t[e]);return li(n=r?t[e]:void 0)}),n},di=["test:save:success","test:ready","test:pause","test:finished:submit","test:reset","test:resume"],pi={},hi=void 0,mi=void 0,_i=function(){var t={top:"t","top-left":"tl","top-right":"tr",items:"i",right:"r","bottom-left":"bl","bottom-right":"br",bottom:"b"};mi&&mi.on("test:ready",function(){var e=ri.getNested(mi,"activity.regions");if(e){var n={application:An,event:"track_event",eventData:{category:"Assess usage",action:Pn.addSamplingText("Regions features"),label:function(e){var n=[],r=void 0;return Fn(e,function(e,i){jn(t[i])&&_t(e)&&(r=e.map(function(t){var e=t.type;return(void 0===e?"":e).replace(/_(button|element)/gi,"")}),n.push(t[i]+":"+r.join(",")))}),n.join("|")}(e),noninteraction:!0}};Pn.formatAssessmentEvent(n),hi(n,!0)}})},yi=function(){ui({appName:An,containerClass:"lrn-assess",event:"track_event",breakpoints:[{name:"Extra Small",min:0},{name:"Small",min:481},{name:"Medium",min:801},{name:"Large",min:1200}]},function(t){var e=t.width,n=t.height,r=t.breakpointName,i={application:An,event:"track_event",eventData:{category:"Assess usage",action:Pn.addSamplingText("Assess container size"),label:e+"x"+n+" ("+r+")",noninteraction:!0}};Pn.formatAssessmentEvent(i),hi(i,!0)})},gi={},bi=function(t){var e=t.publicMethod;if(jn(e)&&B(gi[e])){var n={application:An,event:"track_event",eventData:{category:"Assess usage",action:Pn.addSamplingText("Public method"),label:e,noninteraction:!0}};Pn.formatAssessmentEvent(n),hi(n,!0),gi[e]=!0}},ji=function(){["activity.metadata.current_time","activity.time.max_time","activity.metadata.current_reading_time","activity.configuration.reading_mode.reading_time","activity.time.limit_type","activity.configuration.shuffle_items","activity.configuration.global_items",{path:"activity.navigation.resource_items",getValue:fi},{path:"activity.navigation.auto_save",getValue:fi},{path:"activity.configuration.idle_timeout",getValue:fi},{path:"activity.pages",getValue:fi},{path:"activity.configuration.isSection",getValue:fi},{path:"activity.regions.items",key:"vertical_stretch_option",getValue:vi},{path:"activity.regions.items",key:"scrollable_option",getValue:vi},{path:"activity.regions.items",key:"disable_scrollable_passage_option",getValue:vi}].forEach(function(t){var e=function(t,e){var n=void 0,r=void 0;if(y(e)){var i=e.path,a=e.getValue,o=e.key;if(A(a)){var c=ri.getNested(t,i);n=B(o)?i:i+" - "+o,r=a(c,o)}}else n=e,r=ri.getNested(t,e);return{name:n,value:r}}(mi,t),n=e.name,r=e.value;if(!B(r)&&!ci(r)){var i={application:An,event:"track_event",eventData:{category:Pn.addSamplingText("Assess usage - Init Options"),action:n,label:""+r,noninteraction:!0}};Pn.formatAssessmentEvent(i),hi(i)}})},wi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hi=t.push,mi=t.app,(pi=Pn.init({sampleType:"assessment",push:hi})).shouldTrack&&(_i(),yi(),ji()),ni(An,function(t){"publicMethod"===t.name&&pi.shouldTrack&&bi(t)})},Ai=function(t){var e=hn(t);if("track_event"===e.event){if(e.eventData=e.eventData||{},jn(e.eventData.action)&&di.indexOf(e.eventData.action)>-1)return pi.shouldTrack&&(e.eventData.action=Pn.addSamplingText(""+e.eventData.action)),Pn.formatAssessmentEvent(e),e;if("[TEMP] ui_style usage"===e.eventData.category)return pi.shouldTrack&&(e.eventData.category=Pn.addSamplingText(""+e.eventData.category)),Pn.formatAssessmentEvent(e),e}return e},Oi={},Ei=void 0,Si=void 0,Ti=function(){Ei({application:On,event:"set_dimensions",dimensions:{ITEMS_API_VERSION:Si.version}})},ki={},xi=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).publicMethod;if(jn(t)&&B(ki[t])){var e={application:On,event:"track_event",eventData:{category:"Items usage",action:Pn.addSamplingText("Public method"),label:t,noninteraction:!0}};Pn.formatAssessmentEvent(e),Ei(e,!0),ki[t]=!0}},Ii=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(y(t.error)){var e=t.error,n=e.code,r=e.msg,i=e.detail;Ei({application:On,event:"track_event",eventData:{category:"LearnosityItems Error",action:n+": "+r,label:B(i)?void 0:""+i,value:1,noninteraction:!0}},!0)}},Di=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ei=t.push,Si=t.app,Oi=Pn.init({sampleType:"assessment",push:Ei}),Ti(),ni(On,function(t){var e=t.name;"publicMethod"===e&&Oi.shouldTrack&&xi(t),"error"===e&&Ii(t)})};function Pi(t){return t!=t}var Ni=NaN,Li=/^\s+|\s+$/g,Mi=/^[-+]0x[0-9a-f]+$/i,Vi=/^0b[01]+$/i,Ri=/^0o[0-7]+$/i,zi=parseInt;var Ui=1/0,qi=1.7976931348623157e308;function Ci(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(Sr(t))return Ni;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Li,"");var n=Vi.test(t);return n||Ri.test(t)?zi(t.slice(2),n?2:8):Mi.test(t)?Ni:+t}(t))===Ui||t===-Ui){return(t<0?-1:1)*qi}return t==t?t:0}var Fi=Math.max;function Bi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:function(t){var e=Ci(t),n=e%1;return e==e?n?e-n:e:0}(n);return i<0&&(i=Fi(r+i,0)),a=t,c=i,(o=e)==o?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(a,o,c):function(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}(a,Pi,c);var a,o,c}var $i="track_event_authoring",Qi={},Hi=void 0,Wi=void 0,Yi=void 0,Ki=function(){var t=window.LearnosityAuthor.version,e=ri.getNested(window.LearnosityAuthor,"versions.requested")||t;window.LearnosityAuthor&&Hi({application:Tn,event:"set_dimensions",dimensions:{authoring:{CONSUMER_KEY:Wi.component.consumerKey,API_VERSION:t,REQUESTED_API_VERSION:e,HOST_URL:window.LearnosityAuthor._internal.config.apiHost}}})},Gi=function(){Ji(["mode"],!0,!1),Ji(["activity_edit.activity_preview.item.reference.show","activity_edit.customize_presets.enable","activity_edit.duplicate","activity_edit.item.add.show","activity_edit.item.edit.allow","activity_edit.item.status.show","activity_edit.item_search.filter.restricted.current_user","activity_edit.item_search.toolbar.search.controls","activity_edit.item_search.toolbar.search.show","activity_edit.item_search.toolbar.search.status","activity_edit.item_search.toolbar.search.tags.show","activity_edit.item_search.toolbar.search.widget_type","activity_edit.item_title.show","activity_edit.mode.show","activity_edit.mode.default","activity_edit.override_labels.enable","activity_edit.reference.edit","activity_edit.reference.show","activity_edit.status.show","activity_edit.tags.edit","activity_edit.tags.show","activity_edit.title.edit","activity_edit.title.mandatory","activity_edit.title.show","activity_list.filter.restricted.current_user","activity_list.title.show","activity_list.toolbar.add","activity_list.toolbar.search","container.fixed_footer_height","container.height","dependencies.question_editor_api.version","dependencies.questions_api.version","item_edit.item.columns","item_edit.item.dynamic_content","item_edit.item.dynamic_image_tag","item_edit.item.enable_audio_recording","item_edit.item.mode.default","item_edit.item.reference.edit","item_edit.item.reference.show","item_edit.item.reference.prefix","item_edit.item.save.show","item_edit.item.shared_passage","item_edit.item.tabs","item_edit.item.tags.edit","item_edit.item.tags.show","item_edit.item.title.edit","item_edit.item.title.mandatory","item_edit.item.title.show","item_edit.settings.show","item_edit.widget.delete","item_edit.widget.edit","item_list.filter.restricted.current_user","item_list.filter.restricted.status","item_list.item.title.show","item_list.toolbar.add","item_list.toolbar.search.controls","item_list.toolbar.search.show","item_list.toolbar.search.status","item_list.toolbar.search.tags.show","item_list.toolbar.search.widget_type"],!0),Ji(["activity_edit.item_search.filter.restricted.created_by","activity_edit.item_search.filter.restricted.tags.all","activity_edit.item_search.filter.restricted.tags.either","activity_edit.item_search.filter.restricted.tags.none","activity_edit.item_search.item_banks","activity_edit.tags_on_create","activity_list.filter.restricted.created_by","activity_list.filter.restricted.tags.all","activity_list.filter.restricted.tags.either","activity_list.filter.restricted.tags.none","container.scroll_into_view_selector","global.hide_tags","global.show_tags","item_edit.item.tags.include_tags_on_edit","item_edit.tags_on_create","item_list.filter.restricted.created_by","item_list.filter.restricted.tags.all","item_list.filter.restricted.tags.either","item_list.filter.restricted.tags.none"],!1)},Ji=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?Yi:Wi.initOptionsModel.attributes;t.forEach(function(t){var r=ri.getNested(n,t);if(_t(r)&&(r=r.length>0?r.join(","):void 0),!B(r)&&!ci(r)){var i={application:Tn,event:$i,eventData:{category:Pn.addSamplingText("Author usage - Init Options"),action:t,label:e?""+r:"custom",noninteraction:!0}};Pn.formatAuthoringEvent(i),Hi(i)}})},Xi=function(){ui({containerClass:"lrn-author",breakpoints:[{name:"Extra Small",min:0},{name:"Small",min:615},{name:"Medium",min:800},{name:"Large",min:1170}]},function(t){var e=t.width,n=t.height,r=t.breakpointName,i={application:Tn,event:$i,eventData:{category:Pn.addSamplingText("Screen breakpoint"),action:r,label:e+"x"+n,noninteraction:!0}};Pn.formatAuthoringEvent(i),Hi(i)})},Zi={},ta=function(t){var e=t.publicMethod,n=!B(Zi[e]);if(jn(e)&&!n){var r=["on","once","off"],i=(ri.getNested(window.LearnosityAuthor,"versions.concrete")||window.LearnosityAuthor.version).replace("v","").split("."),a=i.length>=2?parseInt(i[0]):0,o=i.length>=2?parseInt(i[1]):0;a>=1&&o>=44&&r.push("navigate");var c=Bi(r,e)>-1?t.args[0]:"",u={application:Tn,event:$i,eventData:{category:Pn.addSamplingText("Author usage - Public Methods"),action:e,label:c,value:1,noninteraction:!0}};Pn.formatAuthoringEvent(u),Hi(u),Zi[e]=!0}},ea=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Hi=t.push,Wi=t.app,Yi=Wi.initOptionsModel.attributes.config,(Qi=Pn.init({sampleType:"authoring",push:Hi})).shouldTrack&&(Ki(),Gi(),Xi()),ni(Tn,function(t){"publicMethod"===t.name&&Qi.shouldTrack&&ta(t)})},na=void 0,ra=void 0,ia=function(){window.LearnosityQuestionEditor&&na({application:En,event:"set_dimensions",dimensions:{qe:{CONSUMER_KEY:ri.getNested(ra,"configuration.consumer_key"),API_VERSION:window.LearnosityQuestionEditor.version,REQUESTED_API_VERSION:window.LearnosityQuestionEditor._internal.config.requestedApiVersion,QUESTIONS_API_VERSION:window.LearnosityQuestionEditor._internal.config.questionsApiVersion,HOST_URL:window.LearnosityQuestionEditor._internal.config.apiHost,RESPONSE_TYPE:ra?ri.getNested(ra,"question_json.type"):"",RESPONSE_CATEGORY:ra?ra.widget_type:""}}})},aa=function(){oa(["configuration.consumer_key","configuration.main_container_selector","configuration.questionApiVersion","configuration.scroll_container_selector","dependencies.questions_api.version","group_defaults","premium.wiris_keypad_enabled","rich_text_editor.font_settings.overwrite_defaults","rich_text_editor.type","template_defaults","ui.hide_asset_input_field","ui.layout.advanced_group","ui.layout.global_template","ui.layout.mode","ui.layout.response_edit_mode.breakpoint","ui.layout.response_edit_mode.enabled","ui.source_button","ui.undo_redo_button","widget_type","widget_metadata.name","widget_metadata.template_reference"],!0),oa(["assetRequest","base_question_type","custom_feature_types","custom_question_types","premium.attributes.fileupload","premium.question_types","question_type_groups","question_type_templates","question_types","rich_text_editor.font_settings.colors","ui.layout.edit_panel","widget_json"],!1)},oa=function(t,e){t.forEach(function(t){var n=ri.getNested(ra,t);if(_t(n)&&(n=n.length>0?n.join(","):void 0),!B(n)&&!ci(n)){var r={application:En,event:"track_event_qe",eventData:{category:Pn.addSamplingText("QE usage - Init Options"),action:t,label:e?""+n:"custom",noninteraction:!0}};Pn.formatAuthoringEvent(r),na(r)}})},ca=function(){ui({containerClass:"learnosity-question-editor",breakpoints:[{name:"Extra Small",min:0},{name:"Small",min:500},{name:"Medium",min:800},{name:"Large",min:1100}]},function(t){var e=t.width,n=t.height,r=t.breakpointName,i={application:En,event:"track_event_qe",eventData:{category:Pn.addSamplingText("Screen breakpoint"),action:r,label:e+"x"+n,noninteraction:!0}};Pn.formatAuthoringEvent(i),na(i)})},ua=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};na=t.push,t.app,ra=t.config,Pn.init({sampleType:"authoring",push:na}).shouldTrack&&(ia(),aa(),ca())},sa=void 0,la=void 0,fa=function(){var t=window.LearnosityAnnotations;if(t){var e=function(){var t=ri.getNested(la,"initOptions.request.modules"),e=[],n="none";return y(t)&&(Fn(t,function(t,n){(!0===t||y(t))&&e.push(n)}),e.length>0&&(n=e.sort().join(","))),n}(),n={annotations:{ANNOTATIONS_API_VERSION:t.version,REQUESTED_ANNOTATIONS_API_VERSION:ri.getNested(t,"versions.requested"),CONSUMER_KEY:ri.getNested(la,"initOptions.security.consumer_key"),LIST_OF_MODULES:e}};sa({application:xn,event:"set_dimensions",dimensions:n})}},va=function(){sa({application:xn,event:"track_pageview_annotations"})},da=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};sa=t.push,la=t.app,fa(),va()};!function(t,e){var n=t.lrnAnalytics&&Object.prototype.toString.call(t.lrnAnalytics).indexOf("Object")>-1;t.lrnAnalytics=n?t.lrnAnalytics:function(t){var e,n,r="Inactive",a=(e={},i(e,wn,"Loaded"),i(e,An,r),i(e,On,r),i(e,En,r),i(e,Sn,r),i(e,Tn,r),i(e,kn,r),i(e,xn,r),e),o=t.lrnAnalytics||[],c=!1,u=!1,s="",l=void 0,f=void 0,v=function(){return""!==s&&-1===s.indexOf("{:")&&!!window[s]},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce(function(e,n){return n.event&&n.event===t?e.matched.push(n):e.unmatched.push(n),e},{matched:[],unmatched:[]})},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y(t)&&(!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jn(e.event)&&e.event===t}("app_init",t)?gn(t=h(t,e))||(u?v()&&(window[s].push(t),t.resetValues&&_(t)):o.push(t),!u&&o.length>0&&(c||g())&&v()&&(u=!0,m())):j(t))},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=hn(t),r=ri.getNested(n,"eventData.category")||"";return(n=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=hn(t),r=n.application,i="dimensions.APPLICATION";jn(r)&&!n[i]&&(n[i]=r);B(n.resetValues)&&(n.resetValues=e);return n}(n,e)).isInternal&&("track_event"===n.event&&(n.resetValues=!0),n.application===An&&(n=Ai(n)),"track_timing"!==n.event||n.application!==wn&&n.application!==An&&n.application!==On||(n=Vn(t))),"track_event"===n.event&&-1===r.toLowerCase().indexOf("error")&&(n=void 0),n},m=function(){var t=d("set_dimensions",o);o=t.unmatched,t.matched.map(function(t){p(t)}),o.map(function(t){p(t)}),(o=[]).push=w},_=function(t){var e={},n=void 0;if(v()&&y(t)){for(n in t)B(t[n])||"dimensions"===n||(e[n]=void 0);e.event="reset_data",p(e)}},g=function(){var t=[[wn],[wn,An],[wn,An,On],[wn,On],[wn,On,kn],[wn,An,On,kn],[wn,En],[wn,En,Tn],[wn,An,En,Tn],[kn],[Sn],[Sn,wn],[Sn,On,wn],[Sn,kn],[Sn,kn,wn],[Sn,kn,On,wn],[xn],[An,xn],[On,An,xn]];return t.some(function(t){if(0===t.filter(function(t){return a[t]===r}).length)return c=!0,!0})},b=(n={},i(n,wn,oi),i(n,An,wi),i(n,On,Di),i(n,Tn,ea),i(n,En,ua),i(n,xn,da),n),j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.application;l=t.instance||l,f=t.config,s=t.dataLayerVariable||s,jn(e)&&(p({application:e,event:"app_ready"}),a[e]="Loaded"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={push:p,app:l,config:f};A(b[t])&&b[t](e)}(e)},w=function(){F.apply(void 0,[p].concat(Array.prototype.slice.call(arguments)))};F(function(){!function(){var t=d("app_init",o);o=t.unmatched,t.matched.map(j)}(),Mn({push:p})});return{init:function(){F.apply(void 0,[j].concat(Array.prototype.slice.call(arguments)))},push:w}}(t)}(window)}();
